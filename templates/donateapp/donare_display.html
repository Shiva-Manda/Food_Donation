{% extends 'donateapp/base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4 text-primary">Your Food Donations</h2>

    {% if donare %}
    <div class="table-responsive">
        <table class="table table-bordered table-striped table-hover">
            <thead class="thead-dark">
                <tr>
                    <th>Sr. No.</th>
                    <th>User Name</th>
                    <th>Date & Time</th>
                    <th>Contact</th>
                    <th>Address</th>
                    <th>Food Details</th>
                    <th>View</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
                {% for item in donare %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ user.username }}</td>
                    <td>{{ item.donate_date }}</td>
                    <td>{{ item.contact_number }}</td>
                    <td>{{ item.address|truncatechars:40 }}</td>
                    <td>{{ item.food_details|truncatechars:40 }}</td>
                    <td><a href="{% url 'donare_detail' item.id %}" class="btn btn-sm btn-info">See Full</a></td>
                    <td><a href="{% url 'update_donare' item.id %}" class="btn btn-sm btn-warning">Edit</a></td>
                    <td>
                        <a href="{% url 'delete_donare' item.id %}" class="btn btn-sm btn-danger">
                            <i class="fa fa-trash"></i>
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="alert alert-danger text-center mt-5">
        <h4>No details found for <strong>{{ user.username }}</strong></h4>
    </div>
    {% endif %}
</div>
{% endblock content %}
